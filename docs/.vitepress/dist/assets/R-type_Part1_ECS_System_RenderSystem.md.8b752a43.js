import{_ as s,c as n,o as a,a as l}from"./app.0d618599.js";const u=JSON.parse(`{"title":"Render System - Moteur Graphique R-Type","description":"","frontmatter":{},"headers":[{"level":2,"title":"Architecture","slug":"architecture","link":"#architecture","children":[{"level":3,"title":"Pipeline de Rendu","slug":"pipeline-de-rendu","link":"#pipeline-de-rendu","children":[]},{"level":3,"title":"Composants Impliqu\xE9s","slug":"composants-impliques","link":"#composants-impliques","children":[]}]},{"level":2,"title":"Initialisation","slug":"initialisation","link":"#initialisation","children":[{"level":3,"title":"1. Enregistrement du Syst\xE8me","slug":"_1-enregistrement-du-systeme","link":"#_1-enregistrement-du-systeme","children":[]},{"level":3,"title":"2. Configuration des Composants","slug":"_2-configuration-des-composants","link":"#_2-configuration-des-composants","children":[]},{"level":3,"title":"3. Cr\xE9er une Cam\xE9ra","slug":"_3-creer-une-camera","link":"#_3-creer-une-camera","children":[]}]},{"level":2,"title":"Utilisation Courante","slug":"utilisation-courante","link":"#utilisation-courante","children":[{"level":3,"title":"Cr\xE9er un Sprite Simple","slug":"creer-un-sprite-simple","link":"#creer-un-sprite-simple","children":[]},{"level":3,"title":"Cr\xE9er un Texte (UI)","slug":"creer-un-texte-ui","link":"#creer-un-texte-ui","children":[]},{"level":3,"title":"Cr\xE9er un Sprite avec Spritesheet","slug":"creer-un-sprite-avec-spritesheet","link":"#creer-un-sprite-avec-spritesheet","children":[]}]},{"level":2,"title":"Transformations","slug":"transformations","link":"#transformations","children":[{"level":3,"title":"Modifier la Position","slug":"modifier-la-position","link":"#modifier-la-position","children":[]},{"level":3,"title":"Modifier la Rotation","slug":"modifier-la-rotation","link":"#modifier-la-rotation","children":[]},{"level":3,"title":"Modifier l'\xC9chelle","slug":"modifier-l-echelle","link":"#modifier-l-echelle","children":[]},{"level":3,"title":"Flip/Mirror","slug":"flip-mirror","link":"#flip-mirror","children":[]}]},{"level":2,"title":"Gestion des Couches (Layers)","slug":"gestion-des-couches-layers","link":"#gestion-des-couches-layers","children":[{"level":3,"title":"Exemple de Hi\xE9rarchie","slug":"exemple-de-hierarchie","link":"#exemple-de-hierarchie","children":[]},{"level":3,"title":"Pratique","slug":"pratique","link":"#pratique","children":[]}]},{"level":2,"title":"Syst\xE8me de Cam\xE9ra","slug":"systeme-de-camera","link":"#systeme-de-camera","children":[{"level":3,"title":"Configuration de Base","slug":"configuration-de-base","link":"#configuration-de-base","children":[]},{"level":3,"title":"Zoom","slug":"zoom","link":"#zoom","children":[]},{"level":3,"title":"Suivre le Joueur (Smooth Lerp)","slug":"suivre-le-joueur-smooth-lerp","link":"#suivre-le-joueur-smooth-lerp","children":[]},{"level":3,"title":"Parallax (D\xE9filement Lent du Background)","slug":"parallax-defilement-lent-du-background","link":"#parallax-defilement-lent-du-background","children":[]}]},{"level":2,"title":"Teinte et Couleurs","slug":"teinte-et-couleurs","link":"#teinte-et-couleurs","children":[{"level":3,"title":"Appliquer une Teinte","slug":"appliquer-une-teinte","link":"#appliquer-une-teinte","children":[]},{"level":3,"title":"Effets Flash (D\xE9g\xE2t)","slug":"effets-flash-degat","link":"#effets-flash-degat","children":[]}]},{"level":2,"title":"Gestion du Texte","slug":"gestion-du-texte","link":"#gestion-du-texte","children":[{"level":3,"title":"Mise \xE0 Jour du Contenu","slug":"mise-a-jour-du-contenu","link":"#mise-a-jour-du-contenu","children":[]},{"level":3,"title":"Alignement du Texte","slug":"alignement-du-texte","link":"#alignement-du-texte","children":[]},{"level":3,"title":"Obtenir Dimensions du Texte","slug":"obtenir-dimensions-du-texte","link":"#obtenir-dimensions-du-texte","children":[]}]},{"level":2,"title":"Animation Spritesheet","slug":"animation-spritesheet","link":"#animation-spritesheet","children":[{"level":3,"title":"Configuration Simple","slug":"configuration-simple","link":"#configuration-simple","children":[]},{"level":3,"title":"Mise \xE0 Jour de l'Animation","slug":"mise-a-jour-de-l-animation","link":"#mise-a-jour-de-l-animation","children":[]}]},{"level":2,"title":"Boucle de Rendu Compl\xE8te","slug":"boucle-de-rendu-complete","link":"#boucle-de-rendu-complete","children":[]},{"level":2,"title":"R\xE9f\xE9rence API Backend","slug":"reference-api-backend","link":"#reference-api-backend","children":[]},{"level":2,"title":"Exemples Avanc\xE9s","slug":"exemples-avances","link":"#exemples-avances","children":[{"level":3,"title":"Barre de Vie Dynamique","slug":"barre-de-vie-dynamique","link":"#barre-de-vie-dynamique","children":[]},{"level":3,"title":"Effet Clignotement","slug":"effet-clignotement","link":"#effet-clignotement","children":[]},{"level":3,"title":"D\xE9grad\xE9 de Couleur","slug":"degrade-de-couleur","link":"#degrade-de-couleur","children":[]}]},{"level":2,"title":"Bonnes Pratiques","slug":"bonnes-pratiques","link":"#bonnes-pratiques","children":[]}],"relativePath":"R-type_Part1/ECS/System/RenderSystem.md"}`),p={name:"R-type_Part1/ECS/System/RenderSystem.md"},e=l(`<h1 id="render-system-moteur-graphique-r-type" tabindex="-1">Render System - Moteur Graphique R-Type <a class="header-anchor" href="#render-system-moteur-graphique-r-type" aria-hidden="true">#</a></h1><hr><p>Le <strong>Render System</strong> est un syst\xE8me ECS modulaire responsable de l&#39;affichage de tous les \xE9l\xE9ments visuels du jeu. Il g\xE8re :</p><ul><li>Rendu de sprites avec textures</li><li>Rendu de texte (UI, HUD)</li><li>Tri automatique par profondeur (layers)</li><li>Application des transformations (position, rotation, \xE9chelle)</li><li>Gestion intelligente du cache (textures et polices)</li><li>Support cam\xE9ra 2D (zoom, pan, viewport)</li><li>Gestion de la visibilit\xE9 et des couleurs (tint)</li></ul><hr><h2 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-hidden="true">#</a></h2><h3 id="pipeline-de-rendu" tabindex="-1">Pipeline de Rendu <a class="header-anchor" href="#pipeline-de-rendu" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#c9d1d9;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502  1. Collecte des Entit\xE9s        \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502     (Transform + Drawable/Text) \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#c9d1d9;">             \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25BC\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502  2. R\xE9cup\xE9ration Cam\xE9ra Active  \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502     (Position, Zoom, Viewport)  \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#c9d1d9;">             \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25BC\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502  3. Tri par Layer (Croissant)   \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502     (Fond \u2192 Premier Plan)       \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#c9d1d9;">             \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25BC\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502  4. Rendu Chaque Entit\xE9         \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502     \u2022 Chargement ressource      \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502     \u2022 Calcul transform cam\xE9ra   \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502     \u2022 Draw via backend          \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#c9d1d9;">             \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25BC\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2502  5. Display (Swap Buffers)      \u2502</span></span>
<span class="line"><span style="color:#c9d1d9;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#24292f;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#24292f;">\u2502  1. Collecte des Entit\xE9s        \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2502     (Transform + Drawable/Text) \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#24292f;">             \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25BC\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#24292f;">\u2502  2. R\xE9cup\xE9ration Cam\xE9ra Active  \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2502     (Position, Zoom, Viewport)  \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#24292f;">             \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25BC\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#24292f;">\u2502  3. Tri par Layer (Croissant)   \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2502     (Fond \u2192 Premier Plan)       \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#24292f;">             \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25BC\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#24292f;">\u2502  4. Rendu Chaque Entit\xE9         \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2502     \u2022 Chargement ressource      \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2502     \u2022 Calcul transform cam\xE9ra   \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2502     \u2022 Draw via backend          \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#24292f;">             \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25BC\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span></span>
<span class="line"><span style="color:#24292f;">\u2502  5. Display (Swap Buffers)      \u2502</span></span>
<span class="line"><span style="color:#24292f;">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span></span>
<span class="line"><span style="color:#24292f;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="composants-impliques" tabindex="-1">Composants Impliqu\xE9s <a class="header-anchor" href="#composants-impliques" aria-hidden="true">#</a></h3><h4 id="transform-obligatoire" tabindex="-1">Transform (Obligatoire) <a class="header-anchor" href="#transform-obligatoire" aria-hidden="true">#</a></h4><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">struct</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">transform</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> _x, _y;</span><span style="color:#8B949E;">              // Position dans le monde</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> _rotation;</span><span style="color:#8B949E;">           // Rotation en degr\xE9s (0-360)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> _scale_x, _scale_y;</span><span style="color:#8B949E;">  // Facteur d&#39;\xE9chelle</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">struct</span><span style="color:#24292F;"> </span><span style="color:#953800;">transform</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> _x, _y;</span><span style="color:#6E7781;">              // Position dans le monde</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> _rotation;</span><span style="color:#6E7781;">           // Rotation en degr\xE9s (0-360)</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> _scale_x, _scale_y;</span><span style="color:#6E7781;">  // Facteur d&#39;\xE9chelle</span></span>
<span class="line"><span style="color:#24292F;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="drawable-pour-sprites" tabindex="-1">Drawable (Pour Sprites) <a class="header-anchor" href="#drawable-pour-sprites" aria-hidden="true">#</a></h4><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">struct</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Drawable</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::string texturePath;</span><span style="color:#8B949E;">           // Chemin relative &quot;Assets/...&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">    Color tint;</span><span style="color:#8B949E;">                        // Teinte RGBA (0-255)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">bool</span><span style="color:#C9D1D9;"> visible;</span><span style="color:#8B949E;">                      // Affichable ?</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> layer;</span><span style="color:#8B949E;">                         // Profondeur (tri automatique)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#8B949E;">    // Animation spritesheet</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">bool</span><span style="color:#C9D1D9;"> isAnimated;</span><span style="color:#8B949E;">                   // Active l&#39;animation ?</span></span>
<span class="line"><span style="color:#C9D1D9;">    Animation animation;</span><span style="color:#8B949E;">               // Config animation</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">size_t</span><span style="color:#C9D1D9;"> currentFrame;</span><span style="color:#8B949E;">               // Frame actuelle</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> frameTimer;</span><span style="color:#8B949E;">                  // Temps depuis derni\xE8re frame</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#8B949E;">    // Spritesheet support</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">bool</span><span style="color:#C9D1D9;"> hasTextureRect;</span><span style="color:#8B949E;">               // Utiliser sous-r\xE9gion ?</span></span>
<span class="line"><span style="color:#C9D1D9;">    Rect textureRect;</span><span style="color:#8B949E;">                  // {x, y, width, height}</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#8B949E;">    // Flip/Mirror</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">bool</span><span style="color:#C9D1D9;"> flipHorizontal;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">bool</span><span style="color:#C9D1D9;"> flipVertical;</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">struct</span><span style="color:#24292F;"> </span><span style="color:#953800;">Drawable</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#953800;">std</span><span style="color:#24292F;">::string texturePath;</span><span style="color:#6E7781;">           // Chemin relative &quot;Assets/...&quot;</span></span>
<span class="line"><span style="color:#24292F;">    Color tint;</span><span style="color:#6E7781;">                        // Teinte RGBA (0-255)</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">bool</span><span style="color:#24292F;"> visible;</span><span style="color:#6E7781;">                      // Affichable ?</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> layer;</span><span style="color:#6E7781;">                         // Profondeur (tri automatique)</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#6E7781;">    // Animation spritesheet</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">bool</span><span style="color:#24292F;"> isAnimated;</span><span style="color:#6E7781;">                   // Active l&#39;animation ?</span></span>
<span class="line"><span style="color:#24292F;">    Animation animation;</span><span style="color:#6E7781;">               // Config animation</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">size_t</span><span style="color:#24292F;"> currentFrame;</span><span style="color:#6E7781;">               // Frame actuelle</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> frameTimer;</span><span style="color:#6E7781;">                  // Temps depuis derni\xE8re frame</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#6E7781;">    // Spritesheet support</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">bool</span><span style="color:#24292F;"> hasTextureRect;</span><span style="color:#6E7781;">               // Utiliser sous-r\xE9gion ?</span></span>
<span class="line"><span style="color:#24292F;">    Rect textureRect;</span><span style="color:#6E7781;">                  // {x, y, width, height}</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#6E7781;">    // Flip/Mirror</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">bool</span><span style="color:#24292F;"> flipHorizontal;</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">bool</span><span style="color:#24292F;"> flipVertical;</span></span>
<span class="line"><span style="color:#24292F;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="text-pour-texte" tabindex="-1">Text (Pour Texte) <a class="header-anchor" href="#text-pour-texte" aria-hidden="true">#</a></h4><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">struct</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Text</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::string content;</span><span style="color:#8B949E;">               // Contenu du texte</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::string fontPath;</span><span style="color:#8B949E;">              // &quot;Assets/fonts/arial.ttf&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> fontSize;</span><span style="color:#8B949E;">             // Taille en pixels</span></span>
<span class="line"><span style="color:#C9D1D9;">    Color color;</span><span style="color:#8B949E;">                       // RGBA</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> layer;</span><span style="color:#8B949E;">                         // Profondeur</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">bool</span><span style="color:#C9D1D9;"> visible;</span><span style="color:#8B949E;">                      // Affichable ?</span></span>
<span class="line"><span style="color:#C9D1D9;">    TextAlignment alignment;</span><span style="color:#8B949E;">           // LEFT, CENTER, RIGHT</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">struct</span><span style="color:#24292F;"> </span><span style="color:#953800;">Text</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#953800;">std</span><span style="color:#24292F;">::string content;</span><span style="color:#6E7781;">               // Contenu du texte</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#953800;">std</span><span style="color:#24292F;">::string fontPath;</span><span style="color:#6E7781;">              // &quot;Assets/fonts/arial.ttf&quot;</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> fontSize;</span><span style="color:#6E7781;">             // Taille en pixels</span></span>
<span class="line"><span style="color:#24292F;">    Color color;</span><span style="color:#6E7781;">                       // RGBA</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> layer;</span><span style="color:#6E7781;">                         // Profondeur</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">bool</span><span style="color:#24292F;"> visible;</span><span style="color:#6E7781;">                      // Affichable ?</span></span>
<span class="line"><span style="color:#24292F;">    TextAlignment alignment;</span><span style="color:#6E7781;">           // LEFT, CENTER, RIGHT</span></span>
<span class="line"><span style="color:#24292F;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="camera-controle-vue" tabindex="-1">Camera (Contr\xF4le Vue) <a class="header-anchor" href="#camera-controle-vue" aria-hidden="true">#</a></h4><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">struct</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Camera</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> x, y;</span><span style="color:#8B949E;">                        // Position dans le monde</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> zoom;</span><span style="color:#8B949E;">                        // 1.0 = 100%, 2.0 = 200%</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> viewportWidth;</span><span style="color:#8B949E;">        // Largeur \xE9cran en pixels</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> viewportHeight;</span><span style="color:#8B949E;">       // Hauteur \xE9cran en pixels</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">bool</span><span style="color:#C9D1D9;"> active;</span><span style="color:#8B949E;">                       //  UNE SEULE active \xE0 la fois</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">struct</span><span style="color:#24292F;"> </span><span style="color:#953800;">Camera</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> x, y;</span><span style="color:#6E7781;">                        // Position dans le monde</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> zoom;</span><span style="color:#6E7781;">                        // 1.0 = 100%, 2.0 = 200%</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> viewportWidth;</span><span style="color:#6E7781;">        // Largeur \xE9cran en pixels</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> viewportHeight;</span><span style="color:#6E7781;">       // Hauteur \xE9cran en pixels</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">bool</span><span style="color:#24292F;"> active;</span><span style="color:#6E7781;">                       //  UNE SEULE active \xE0 la fois</span></span>
<span class="line"><span style="color:#24292F;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><hr><h2 id="initialisation" tabindex="-1">Initialisation <a class="header-anchor" href="#initialisation" aria-hidden="true">#</a></h2><h3 id="_1-enregistrement-du-systeme" tabindex="-1">1. Enregistrement du Syst\xE8me <a class="header-anchor" href="#_1-enregistrement-du-systeme" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">#include</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;GameEngine/Graphic/Systems/Render_system.hpp&quot;</span></span>
<span class="line"><span style="color:#FF7B72;">#include</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;GameEngine/Graphic/back_lib/IGraphicsBackend.hpp&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Charger le backend SFML</span></span>
<span class="line"><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> backendHandle </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">dlopen</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;./LibEngine/Backends/sfml_backend.so&quot;</span><span style="color:#C9D1D9;">, RTLD_NOW);</span></span>
<span class="line"><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> create_backend </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (</span><span style="color:#FFA657;">graphics</span><span style="color:#C9D1D9;">::IGraphicsBackend</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> (</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">)())</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">dlsym</span><span style="color:#C9D1D9;">(backendHandle, </span><span style="color:#A5D6FF;">&quot;create_backend&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFA657;">graphics</span><span style="color:#C9D1D9;">::IGraphicsBackend</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> backend </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">create_backend</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">backend-&gt;</span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">1920</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">1080</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&quot;Mon Jeu R-Type&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Configurer le Render System</span></span>
<span class="line"><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> renderHandle </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">dlopen</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;./LibEngine/Systems/render_system.so&quot;</span><span style="color:#C9D1D9;">, RTLD_NOW);</span></span>
<span class="line"><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> set_backend </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (</span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">)(</span><span style="color:#FFA657;">graphics</span><span style="color:#C9D1D9;">::IGraphicsBackend</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">))</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">dlsym</span><span style="color:#C9D1D9;">(renderHandle, </span><span style="color:#A5D6FF;">&quot;set_graphics_backend&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#D2A8FF;">set_backend</span><span style="color:#C9D1D9;">(backend);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Enregistrer le syst\xE8me</span></span>
<span class="line"><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> register_render </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (</span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">)(registry</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;">))</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">dlsym</span><span style="color:#C9D1D9;">(renderHandle, </span><span style="color:#A5D6FF;">&quot;register_systems&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#D2A8FF;">register_render</span><span style="color:#C9D1D9;">(reg);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">#include</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;GameEngine/Graphic/Systems/Render_system.hpp&quot;</span></span>
<span class="line"><span style="color:#CF222E;">#include</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;GameEngine/Graphic/back_lib/IGraphicsBackend.hpp&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Charger le backend SFML</span></span>
<span class="line"><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> backendHandle </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">dlopen</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;./LibEngine/Backends/sfml_backend.so&quot;</span><span style="color:#24292F;">, RTLD_NOW);</span></span>
<span class="line"><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> create_backend </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> (</span><span style="color:#953800;">graphics</span><span style="color:#24292F;">::IGraphicsBackend</span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> (</span><span style="color:#CF222E;">*</span><span style="color:#24292F;">)())</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">dlsym</span><span style="color:#24292F;">(backendHandle, </span><span style="color:#0A3069;">&quot;create_backend&quot;</span><span style="color:#24292F;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#953800;">graphics</span><span style="color:#24292F;">::IGraphicsBackend</span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> backend </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">create_backend</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">backend-&gt;</span><span style="color:#8250DF;">init</span><span style="color:#24292F;">(</span><span style="color:#0550AE;">1920</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">1080</span><span style="color:#24292F;">, </span><span style="color:#0A3069;">&quot;Mon Jeu R-Type&quot;</span><span style="color:#24292F;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Configurer le Render System</span></span>
<span class="line"><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> renderHandle </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">dlopen</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;./LibEngine/Systems/render_system.so&quot;</span><span style="color:#24292F;">, RTLD_NOW);</span></span>
<span class="line"><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> set_backend </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> (</span><span style="color:#CF222E;">void</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">*</span><span style="color:#24292F;">)(</span><span style="color:#953800;">graphics</span><span style="color:#24292F;">::IGraphicsBackend</span><span style="color:#CF222E;">*</span><span style="color:#24292F;">))</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">dlsym</span><span style="color:#24292F;">(renderHandle, </span><span style="color:#0A3069;">&quot;set_graphics_backend&quot;</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#8250DF;">set_backend</span><span style="color:#24292F;">(backend);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Enregistrer le syst\xE8me</span></span>
<span class="line"><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> register_render </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> (</span><span style="color:#CF222E;">void</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">*</span><span style="color:#24292F;">)(registry</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;">))</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">dlsym</span><span style="color:#24292F;">(renderHandle, </span><span style="color:#0A3069;">&quot;register_systems&quot;</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#8250DF;">register_render</span><span style="color:#24292F;">(reg);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_2-configuration-des-composants" tabindex="-1">2. Configuration des Composants <a class="header-anchor" href="#_2-configuration-des-composants" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#C9D1D9;">registry reg;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Enregistrer les composants ECS</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.register_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::transform</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.register_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.register_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Text</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.register_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Camera</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#24292F;">registry reg;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Enregistrer les composants ECS</span></span>
<span class="line"><span style="color:#24292F;">reg.register_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::transform</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">reg.register_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">reg.register_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::Text</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">reg.register_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::Camera</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_3-creer-une-camera" tabindex="-1">3. Cr\xE9er une Cam\xE9ra <a class="header-anchor" href="#_3-creer-une-camera" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#8B949E;">// Une seule cam\xE9ra active \xE0 la fois !</span></span>
<span class="line"><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> cameraEntity </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.</span><span style="color:#D2A8FF;">spawn_entity</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Camera camera;</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.x </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.y </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.zoom </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1.0</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.viewportWidth </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1920</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.viewportHeight </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1080</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.active </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(cameraEntity, camera);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#6E7781;">// Une seule cam\xE9ra active \xE0 la fois !</span></span>
<span class="line"><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> cameraEntity </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.</span><span style="color:#8250DF;">spawn_entity</span><span style="color:#24292F;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Camera camera;</span></span>
<span class="line"><span style="color:#24292F;">camera.x </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">camera.y </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">camera.zoom </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1.0</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">camera.viewportWidth </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1920</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">camera.viewportHeight </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1080</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">camera.active </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(cameraEntity, camera);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr><h2 id="utilisation-courante" tabindex="-1">Utilisation Courante <a class="header-anchor" href="#utilisation-courante" aria-hidden="true">#</a></h2><h3 id="creer-un-sprite-simple" tabindex="-1">Cr\xE9er un Sprite Simple <a class="header-anchor" href="#creer-un-sprite-simple" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> player </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.</span><span style="color:#D2A8FF;">spawn_entity</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Transform (position, rotation, \xE9chelle)</span></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::transform playerTransform;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerTransform._x </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">400.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerTransform._y </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">300.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerTransform._rotation </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerTransform._scale_x </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerTransform._scale_y </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(player, playerTransform);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Drawable (image)</span></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable playerSprite;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerSprite.texturePath </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Assets/Textures/Ship/ship_1.png&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerSprite.tint </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">};</span><span style="color:#8B949E;">  // Blanc = couleur normale</span></span>
<span class="line"><span style="color:#C9D1D9;">playerSprite.visible </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerSprite.layer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">5</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerSprite.isAnimated </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">false</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerSprite.hasTextureRect </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">false</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(player, playerSprite);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> player </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.</span><span style="color:#8250DF;">spawn_entity</span><span style="color:#24292F;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Transform (position, rotation, \xE9chelle)</span></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::transform playerTransform;</span></span>
<span class="line"><span style="color:#24292F;">playerTransform._x </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">400.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerTransform._y </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">300.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerTransform._rotation </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerTransform._scale_x </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">2.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerTransform._scale_y </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">2.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(player, playerTransform);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Drawable (image)</span></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable playerSprite;</span></span>
<span class="line"><span style="color:#24292F;">playerSprite.texturePath </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Assets/Textures/Ship/ship_1.png&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerSprite.tint </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">};</span><span style="color:#6E7781;">  // Blanc = couleur normale</span></span>
<span class="line"><span style="color:#24292F;">playerSprite.visible </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerSprite.layer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">5</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerSprite.isAnimated </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">false</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerSprite.hasTextureRect </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">false</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(player, playerSprite);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="creer-un-texte-ui" tabindex="-1">Cr\xE9er un Texte (UI) <a class="header-anchor" href="#creer-un-texte-ui" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> scoreEntity </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.</span><span style="color:#D2A8FF;">spawn_entity</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Transform pour position</span></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::transform scoreTransform{</span><span style="color:#79C0FF;">10.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">10.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">1.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">1.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">};</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(scoreEntity, scoreTransform);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Texte</span></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Text scoreText;</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.content </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Score: 0&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.fontPath </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Assets/Fonts/arial.ttf&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.fontSize </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">32</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.color </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">};</span><span style="color:#8B949E;">  // Blanc</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.layer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">  // Au-dessus des sprites</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.visible </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.alignment </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">TextAlignment</span><span style="color:#C9D1D9;">::LEFT;</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(scoreEntity, scoreText);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> scoreEntity </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.</span><span style="color:#8250DF;">spawn_entity</span><span style="color:#24292F;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Transform pour position</span></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::transform scoreTransform{</span><span style="color:#0550AE;">10.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">10.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">1.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">1.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">};</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(scoreEntity, scoreTransform);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Texte</span></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Text scoreText;</span></span>
<span class="line"><span style="color:#24292F;">scoreText.content </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Score: 0&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">scoreText.fontPath </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Assets/Fonts/arial.ttf&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">scoreText.fontSize </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">32</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">scoreText.color </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">};</span><span style="color:#6E7781;">  // Blanc</span></span>
<span class="line"><span style="color:#24292F;">scoreText.layer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">100</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">  // Au-dessus des sprites</span></span>
<span class="line"><span style="color:#24292F;">scoreText.visible </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">scoreText.alignment </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#953800;">component</span><span style="color:#24292F;">::</span><span style="color:#953800;">TextAlignment</span><span style="color:#24292F;">::LEFT;</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(scoreEntity, scoreText);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="creer-un-sprite-avec-spritesheet" tabindex="-1">Cr\xE9er un Sprite avec Spritesheet <a class="header-anchor" href="#creer-un-sprite-avec-spritesheet" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable bulletSprite;</span></span>
<span class="line"><span style="color:#C9D1D9;">bulletSprite.texturePath </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Assets/Textures/Bullet/bullet_1.png&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">bulletSprite.hasTextureRect </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">bulletSprite.textureRect </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">32</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">32</span><span style="color:#C9D1D9;">};</span><span style="color:#8B949E;">  // Rectangle dans la texture</span></span>
<span class="line"><span style="color:#C9D1D9;">bulletSprite.layer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">bulletSprite.visible </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">bulletSprite.isAnimated </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">false</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(bulletEntity, bulletSprite);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable bulletSprite;</span></span>
<span class="line"><span style="color:#24292F;">bulletSprite.texturePath </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Assets/Textures/Bullet/bullet_1.png&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">bulletSprite.hasTextureRect </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">bulletSprite.textureRect </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">0</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">32</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">32</span><span style="color:#24292F;">};</span><span style="color:#6E7781;">  // Rectangle dans la texture</span></span>
<span class="line"><span style="color:#24292F;">bulletSprite.layer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">3</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">bulletSprite.visible </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">bulletSprite.isAnimated </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">false</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(bulletEntity, bulletSprite);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><hr><h2 id="transformations" tabindex="-1">Transformations <a class="header-anchor" href="#transformations" aria-hidden="true">#</a></h2><h3 id="modifier-la-position" tabindex="-1">Modifier la Position <a class="header-anchor" href="#modifier-la-position" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto&amp;</span><span style="color:#C9D1D9;"> transforms </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.get_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::transform</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> playerTransform </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> transforms.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(playerEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (playerTransform) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    playerTransform-&gt;_x </span><span style="color:#FF7B72;">+=</span><span style="color:#C9D1D9;"> velocityX </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> deltaTime;</span></span>
<span class="line"><span style="color:#C9D1D9;">    playerTransform-&gt;_y </span><span style="color:#FF7B72;">+=</span><span style="color:#C9D1D9;"> velocityY </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> deltaTime;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto&amp;</span><span style="color:#24292F;"> transforms </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.get_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::transform</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> playerTransform </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> transforms.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(playerEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (playerTransform) {</span></span>
<span class="line"><span style="color:#24292F;">    playerTransform-&gt;_x </span><span style="color:#CF222E;">+=</span><span style="color:#24292F;"> velocityX </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> deltaTime;</span></span>
<span class="line"><span style="color:#24292F;">    playerTransform-&gt;_y </span><span style="color:#CF222E;">+=</span><span style="color:#24292F;"> velocityY </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> deltaTime;</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="modifier-la-rotation" tabindex="-1">Modifier la Rotation <a class="header-anchor" href="#modifier-la-rotation" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (playerTransform) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    playerTransform-&gt;_rotation </span><span style="color:#FF7B72;">+=</span><span style="color:#C9D1D9;"> rotationSpeed </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> deltaTime;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#8B949E;">    // Normaliser entre 0-360\xB0</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (playerTransform-&gt;_rotation </span><span style="color:#FF7B72;">&gt;=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">360.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        playerTransform-&gt;_rotation </span><span style="color:#FF7B72;">-=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">360.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (playerTransform) {</span></span>
<span class="line"><span style="color:#24292F;">    playerTransform-&gt;_rotation </span><span style="color:#CF222E;">+=</span><span style="color:#24292F;"> rotationSpeed </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> deltaTime;</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#6E7781;">    // Normaliser entre 0-360\xB0</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (playerTransform-&gt;_rotation </span><span style="color:#CF222E;">&gt;=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">360.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">        playerTransform-&gt;_rotation </span><span style="color:#CF222E;">-=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">360.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="modifier-l-echelle" tabindex="-1">Modifier l&#39;\xC9chelle <a class="header-anchor" href="#modifier-l-echelle" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (playerTransform) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    playerTransform-&gt;_scale_x </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2.5</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    playerTransform-&gt;_scale_y </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2.5</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (playerTransform) {</span></span>
<span class="line"><span style="color:#24292F;">    playerTransform-&gt;_scale_x </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">2.5</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">    playerTransform-&gt;_scale_y </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">2.5</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="flip-mirror" tabindex="-1">Flip/Mirror <a class="header-anchor" href="#flip-mirror" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto&amp;</span><span style="color:#C9D1D9;"> drawables </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.get_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> sprite </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> drawables.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(entity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (sprite) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    sprite-&gt;flipHorizontal </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">   // Miroir horizontal</span></span>
<span class="line"><span style="color:#C9D1D9;">    sprite-&gt;flipVertical </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">false</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">    // Normal vertical</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto&amp;</span><span style="color:#24292F;"> drawables </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.get_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> sprite </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> drawables.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(entity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (sprite) {</span></span>
<span class="line"><span style="color:#24292F;">    sprite-&gt;flipHorizontal </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">   // Miroir horizontal</span></span>
<span class="line"><span style="color:#24292F;">    sprite-&gt;flipVertical </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">false</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">    // Normal vertical</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><hr><h2 id="gestion-des-couches-layers" tabindex="-1">Gestion des Couches (Layers) <a class="header-anchor" href="#gestion-des-couches-layers" aria-hidden="true">#</a></h2><p>Les layers contr\xF4lent l&#39;ordre de rendu. Les nombres plus petits s&#39;affichent en premier (derri\xE8re).</p><h3 id="exemple-de-hierarchie" tabindex="-1">Exemple de Hi\xE9rarchie <a class="header-anchor" href="#exemple-de-hierarchie" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> layerBackground </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">        // Fond lointain</span></span>
<span class="line"><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> layerBackElements </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">5</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">      // Parallax, nuages</span></span>
<span class="line"><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> layerGameplay </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">10</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">         // Joueur, ennemis, balles</span></span>
<span class="line"><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> layerForeground </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">20</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">       // Effets de particules</span></span>
<span class="line"><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> layerUI </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">              // HUD, texte score</span></span>
<span class="line"><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> layerPopup </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">200</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">           // Menus, dialogs</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">int</span><span style="color:#24292F;"> layerBackground </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">        // Fond lointain</span></span>
<span class="line"><span style="color:#CF222E;">int</span><span style="color:#24292F;"> layerBackElements </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">5</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">      // Parallax, nuages</span></span>
<span class="line"><span style="color:#CF222E;">int</span><span style="color:#24292F;"> layerGameplay </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">10</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">         // Joueur, ennemis, balles</span></span>
<span class="line"><span style="color:#CF222E;">int</span><span style="color:#24292F;"> layerForeground </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">20</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">       // Effets de particules</span></span>
<span class="line"><span style="color:#CF222E;">int</span><span style="color:#24292F;"> layerUI </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">100</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">              // HUD, texte score</span></span>
<span class="line"><span style="color:#CF222E;">int</span><span style="color:#24292F;"> layerPopup </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">200</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">           // Menus, dialogs</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="pratique" tabindex="-1">Pratique <a class="header-anchor" href="#pratique" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#8B949E;">// \xC9toiles lointaines</span></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable starsSprite;</span></span>
<span class="line"><span style="color:#C9D1D9;">starsSprite.texturePath </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Assets/Background/stars.png&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">starsSprite.layer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(starsEntity, starsSprite);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Joueur</span></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable playerSprite;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerSprite.texturePath </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Assets/Player/ship.png&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">playerSprite.layer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">10</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">  // Devant les \xE9toiles</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(playerEntity, playerSprite);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// HUD</span></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Text scoreText;</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.content </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Score: 1000&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">scoreText.layer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">  // Devant tout</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(scoreEntity, scoreText);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#6E7781;">// \xC9toiles lointaines</span></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable starsSprite;</span></span>
<span class="line"><span style="color:#24292F;">starsSprite.texturePath </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Assets/Background/stars.png&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">starsSprite.layer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(starsEntity, starsSprite);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Joueur</span></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable playerSprite;</span></span>
<span class="line"><span style="color:#24292F;">playerSprite.texturePath </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Assets/Player/ship.png&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">playerSprite.layer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">10</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">  // Devant les \xE9toiles</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(playerEntity, playerSprite);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// HUD</span></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Text scoreText;</span></span>
<span class="line"><span style="color:#24292F;">scoreText.content </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Score: 1000&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">scoreText.layer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">100</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">  // Devant tout</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(scoreEntity, scoreText);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><hr><h2 id="systeme-de-camera" tabindex="-1">Syst\xE8me de Cam\xE9ra <a class="header-anchor" href="#systeme-de-camera" aria-hidden="true">#</a></h2><h3 id="configuration-de-base" tabindex="-1">Configuration de Base <a class="header-anchor" href="#configuration-de-base" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> cameraEntity </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.</span><span style="color:#D2A8FF;">spawn_entity</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Camera camera;</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.x </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">                   // Position X dans le monde</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.y </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">                   // Position Y dans le monde</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.zoom </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1.0</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">               // 1.0 = normal</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.viewportWidth </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1920</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">      // R\xE9solution \xE9cran</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.viewportHeight </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1080</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">camera.active </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">             // Active cette cam\xE9ra</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(cameraEntity, camera);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> cameraEntity </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.</span><span style="color:#8250DF;">spawn_entity</span><span style="color:#24292F;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Camera camera;</span></span>
<span class="line"><span style="color:#24292F;">camera.x </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">                   // Position X dans le monde</span></span>
<span class="line"><span style="color:#24292F;">camera.y </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">                   // Position Y dans le monde</span></span>
<span class="line"><span style="color:#24292F;">camera.zoom </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1.0</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">               // 1.0 = normal</span></span>
<span class="line"><span style="color:#24292F;">camera.viewportWidth </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1920</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">      // R\xE9solution \xE9cran</span></span>
<span class="line"><span style="color:#24292F;">camera.viewportHeight </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1080</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">camera.active </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">             // Active cette cam\xE9ra</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(cameraEntity, camera);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="zoom" tabindex="-1">Zoom <a class="header-anchor" href="#zoom" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto&amp;</span><span style="color:#C9D1D9;"> cameras </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.get_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Camera</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">for</span><span style="color:#C9D1D9;"> (</span><span style="color:#FF7B72;">size_t</span><span style="color:#C9D1D9;"> i </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">; i </span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;"> cameras.</span><span style="color:#D2A8FF;">size</span><span style="color:#C9D1D9;">(); </span><span style="color:#FF7B72;">++</span><span style="color:#C9D1D9;">i) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (cameras.</span><span style="color:#D2A8FF;">has</span><span style="color:#C9D1D9;">(i)) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> cam </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> cameras.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(i);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (cam </span><span style="color:#FF7B72;">&amp;&amp;</span><span style="color:#C9D1D9;"> cam-&gt;active) {</span></span>
<span class="line"><span style="color:#C9D1D9;">            cam-&gt;zoom </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2.0</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">  // 2x zoom</span></span>
<span class="line"><span style="color:#C9D1D9;">        }</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto&amp;</span><span style="color:#24292F;"> cameras </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.get_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::Camera</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">for</span><span style="color:#24292F;"> (</span><span style="color:#CF222E;">size_t</span><span style="color:#24292F;"> i </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">; i </span><span style="color:#CF222E;">&lt;</span><span style="color:#24292F;"> cameras.</span><span style="color:#8250DF;">size</span><span style="color:#24292F;">(); </span><span style="color:#CF222E;">++</span><span style="color:#24292F;">i) {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (cameras.</span><span style="color:#8250DF;">has</span><span style="color:#24292F;">(i)) {</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> cam </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> cameras.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(i);</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (cam </span><span style="color:#CF222E;">&amp;&amp;</span><span style="color:#24292F;"> cam-&gt;active) {</span></span>
<span class="line"><span style="color:#24292F;">            cam-&gt;zoom </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">2.0</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">  // 2x zoom</span></span>
<span class="line"><span style="color:#24292F;">        }</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="suivre-le-joueur-smooth-lerp" tabindex="-1">Suivre le Joueur (Smooth Lerp) <a class="header-anchor" href="#suivre-le-joueur-smooth-lerp" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto&amp;</span><span style="color:#C9D1D9;"> cameras </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.get_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Camera</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#FF7B72;">auto&amp;</span><span style="color:#C9D1D9;"> transforms </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.get_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::transform</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> playerT </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> transforms.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(playerEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">for</span><span style="color:#C9D1D9;"> (</span><span style="color:#FF7B72;">size_t</span><span style="color:#C9D1D9;"> i </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">; i </span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;"> cameras.</span><span style="color:#D2A8FF;">size</span><span style="color:#C9D1D9;">(); </span><span style="color:#FF7B72;">++</span><span style="color:#C9D1D9;">i) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (cameras.</span><span style="color:#D2A8FF;">has</span><span style="color:#C9D1D9;">(i)) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> cam </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> cameras.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(i);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (cam </span><span style="color:#FF7B72;">&amp;&amp;</span><span style="color:#C9D1D9;"> cam-&gt;active </span><span style="color:#FF7B72;">&amp;&amp;</span><span style="color:#C9D1D9;"> playerT) {</span></span>
<span class="line"><span style="color:#8B949E;">            // Lisser avec lerp pour pas de saccades</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> lerpSpeed </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.1</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">            cam-&gt;x </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> cam-&gt;x </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;"> lerpSpeed) </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> (playerT-&gt;_x </span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">960.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> lerpSpeed;</span></span>
<span class="line"><span style="color:#C9D1D9;">            cam-&gt;y </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> cam-&gt;y </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;"> lerpSpeed) </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> (playerT-&gt;_y </span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">540.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> lerpSpeed;</span></span>
<span class="line"><span style="color:#C9D1D9;">        }</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto&amp;</span><span style="color:#24292F;"> cameras </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.get_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::Camera</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#CF222E;">auto&amp;</span><span style="color:#24292F;"> transforms </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.get_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::transform</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> playerT </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> transforms.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(playerEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">for</span><span style="color:#24292F;"> (</span><span style="color:#CF222E;">size_t</span><span style="color:#24292F;"> i </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">; i </span><span style="color:#CF222E;">&lt;</span><span style="color:#24292F;"> cameras.</span><span style="color:#8250DF;">size</span><span style="color:#24292F;">(); </span><span style="color:#CF222E;">++</span><span style="color:#24292F;">i) {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (cameras.</span><span style="color:#8250DF;">has</span><span style="color:#24292F;">(i)) {</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> cam </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> cameras.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(i);</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (cam </span><span style="color:#CF222E;">&amp;&amp;</span><span style="color:#24292F;"> cam-&gt;active </span><span style="color:#CF222E;">&amp;&amp;</span><span style="color:#24292F;"> playerT) {</span></span>
<span class="line"><span style="color:#6E7781;">            // Lisser avec lerp pour pas de saccades</span></span>
<span class="line"><span style="color:#24292F;">            </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> lerpSpeed </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.1</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">            cam-&gt;x </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> cam-&gt;x </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> (</span><span style="color:#0550AE;">1</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">-</span><span style="color:#24292F;"> lerpSpeed) </span><span style="color:#CF222E;">+</span><span style="color:#24292F;"> (playerT-&gt;_x </span><span style="color:#CF222E;">-</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">960.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> lerpSpeed;</span></span>
<span class="line"><span style="color:#24292F;">            cam-&gt;y </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> cam-&gt;y </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> (</span><span style="color:#0550AE;">1</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">-</span><span style="color:#24292F;"> lerpSpeed) </span><span style="color:#CF222E;">+</span><span style="color:#24292F;"> (playerT-&gt;_y </span><span style="color:#CF222E;">-</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">540.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> lerpSpeed;</span></span>
<span class="line"><span style="color:#24292F;">        }</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="parallax-defilement-lent-du-background" tabindex="-1">Parallax (D\xE9filement Lent du Background) <a class="header-anchor" href="#parallax-defilement-lent-du-background" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#8B949E;">// Background se d\xE9place \xE0 30% de la vitesse de la cam\xE9ra</span></span>
<span class="line"><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> bgTransform </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> transforms.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(backgroundEntity);</span></span>
<span class="line"><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> camera </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> cameras.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(cameraEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (bgTransform </span><span style="color:#FF7B72;">&amp;&amp;</span><span style="color:#C9D1D9;"> camera) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    bgTransform-&gt;_x </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> camera-&gt;x </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.3</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    bgTransform-&gt;_y </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> camera-&gt;y </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.3</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#6E7781;">// Background se d\xE9place \xE0 30% de la vitesse de la cam\xE9ra</span></span>
<span class="line"><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> bgTransform </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> transforms.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(backgroundEntity);</span></span>
<span class="line"><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> camera </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> cameras.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(cameraEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (bgTransform </span><span style="color:#CF222E;">&amp;&amp;</span><span style="color:#24292F;"> camera) {</span></span>
<span class="line"><span style="color:#24292F;">    bgTransform-&gt;_x </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> camera-&gt;x </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.3</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">    bgTransform-&gt;_y </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> camera-&gt;y </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.3</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><hr><h2 id="teinte-et-couleurs" tabindex="-1">Teinte et Couleurs <a class="header-anchor" href="#teinte-et-couleurs" aria-hidden="true">#</a></h2><h3 id="appliquer-une-teinte" tabindex="-1">Appliquer une Teinte <a class="header-anchor" href="#appliquer-une-teinte" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable sprite;</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.texturePath </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Assets/enemy.png&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Couleur normale (pas de teinte)</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.tint </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">};</span><span style="color:#8B949E;">  // RGBA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Teinte rouge</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.tint </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">128</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">128</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Semi-transparent</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.tint </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">128</span><span style="color:#C9D1D9;">};</span><span style="color:#8B949E;">  // 50% opacit\xE9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Bleu sombre</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.tint </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">64</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">128</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable sprite;</span></span>
<span class="line"><span style="color:#24292F;">sprite.texturePath </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Assets/enemy.png&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Couleur normale (pas de teinte)</span></span>
<span class="line"><span style="color:#24292F;">sprite.tint </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">};</span><span style="color:#6E7781;">  // RGBA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Teinte rouge</span></span>
<span class="line"><span style="color:#24292F;">sprite.tint </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">128</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">128</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Semi-transparent</span></span>
<span class="line"><span style="color:#24292F;">sprite.tint </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">128</span><span style="color:#24292F;">};</span><span style="color:#6E7781;">  // 50% opacit\xE9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Bleu sombre</span></span>
<span class="line"><span style="color:#24292F;">sprite.tint </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">64</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">128</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="effets-flash-degat" tabindex="-1">Effets Flash (D\xE9g\xE2t) <a class="header-anchor" href="#effets-flash-degat" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> flashTimer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.2</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">  // Dur\xE9e du flash</span></span>
<span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> flashSpeed </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.05</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">  // Vitesse d&#39;alternance</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Mise \xE0 jour</span></span>
<span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (takingDamage) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    flashTimer </span><span style="color:#FF7B72;">-=</span><span style="color:#C9D1D9;"> deltaTime;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> ((</span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">)(flashTimer </span><span style="color:#FF7B72;">/</span><span style="color:#C9D1D9;"> flashSpeed) </span><span style="color:#FF7B72;">%</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">==</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        sprite.tint </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">};</span><span style="color:#8B949E;">  // Rouge</span></span>
<span class="line"><span style="color:#C9D1D9;">    } </span><span style="color:#FF7B72;">else</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">        sprite.tint </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">};</span><span style="color:#8B949E;">  // Normal</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (flashTimer </span><span style="color:#FF7B72;">&lt;=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        takingDamage </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">false</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> flashTimer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.2</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">  // Dur\xE9e du flash</span></span>
<span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> flashSpeed </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.05</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">  // Vitesse d&#39;alternance</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Mise \xE0 jour</span></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (takingDamage) {</span></span>
<span class="line"><span style="color:#24292F;">    flashTimer </span><span style="color:#CF222E;">-=</span><span style="color:#24292F;"> deltaTime;</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> ((</span><span style="color:#CF222E;">int</span><span style="color:#24292F;">)(flashTimer </span><span style="color:#CF222E;">/</span><span style="color:#24292F;"> flashSpeed) </span><span style="color:#CF222E;">%</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">2</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">==</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">        sprite.tint </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">100</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">100</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">};</span><span style="color:#6E7781;">  // Rouge</span></span>
<span class="line"><span style="color:#24292F;">    } </span><span style="color:#CF222E;">else</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">        sprite.tint </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">};</span><span style="color:#6E7781;">  // Normal</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (flashTimer </span><span style="color:#CF222E;">&lt;=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">        takingDamage </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">false</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><hr><h2 id="gestion-du-texte" tabindex="-1">Gestion du Texte <a class="header-anchor" href="#gestion-du-texte" aria-hidden="true">#</a></h2><h3 id="mise-a-jour-du-contenu" tabindex="-1">Mise \xE0 Jour du Contenu <a class="header-anchor" href="#mise-a-jour-du-contenu" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto&amp;</span><span style="color:#C9D1D9;"> texts </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.get_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Text</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> scoreText </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> texts.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(scoreEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (scoreText) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    scoreText-&gt;content </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Score: &quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#D2A8FF;">to_string</span><span style="color:#C9D1D9;">(currentScore);</span></span>
<span class="line"><span style="color:#C9D1D9;">    scoreText-&gt;fontSize </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">32</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    scoreText-&gt;color </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">};</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto&amp;</span><span style="color:#24292F;"> texts </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.get_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::Text</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> scoreText </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> texts.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(scoreEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (scoreText) {</span></span>
<span class="line"><span style="color:#24292F;">    scoreText-&gt;content </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Score: &quot;</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">+</span><span style="color:#24292F;"> </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#8250DF;">to_string</span><span style="color:#24292F;">(currentScore);</span></span>
<span class="line"><span style="color:#24292F;">    scoreText-&gt;fontSize </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">32</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">    scoreText-&gt;color </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">};</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="alignement-du-texte" tabindex="-1">Alignement du Texte <a class="header-anchor" href="#alignement-du-texte" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Text text;</span></span>
<span class="line"><span style="color:#C9D1D9;">text.content </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Centered Text&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">text.alignment </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">TextAlignment</span><span style="color:#C9D1D9;">::CENTER;</span><span style="color:#8B949E;">  // Centr\xE9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Options</span></span>
<span class="line"><span style="color:#8B949E;">// component::TextAlignment::LEFT</span></span>
<span class="line"><span style="color:#8B949E;">// component::TextAlignment::CENTER</span></span>
<span class="line"><span style="color:#8B949E;">// component::TextAlignment::RIGHT</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Text text;</span></span>
<span class="line"><span style="color:#24292F;">text.content </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Centered Text&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">text.alignment </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#953800;">component</span><span style="color:#24292F;">::</span><span style="color:#953800;">TextAlignment</span><span style="color:#24292F;">::CENTER;</span><span style="color:#6E7781;">  // Centr\xE9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Options</span></span>
<span class="line"><span style="color:#6E7781;">// component::TextAlignment::LEFT</span></span>
<span class="line"><span style="color:#6E7781;">// component::TextAlignment::CENTER</span></span>
<span class="line"><span style="color:#6E7781;">// component::TextAlignment::RIGHT</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="obtenir-dimensions-du-texte" tabindex="-1">Obtenir Dimensions du Texte <a class="header-anchor" href="#obtenir-dimensions-du-texte" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#8B949E;">// Dimensions pour centrer ou positionner correctement</span></span>
<span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> textWidth </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> backend-&gt;</span><span style="color:#D2A8FF;">getTextWidth</span><span style="color:#C9D1D9;">(font, </span><span style="color:#A5D6FF;">&quot;Score: 1000&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> textHeight </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> backend-&gt;</span><span style="color:#D2A8FF;">getTextHeight</span><span style="color:#C9D1D9;">(font, </span><span style="color:#A5D6FF;">&quot;Score: 1000&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#6E7781;">// Dimensions pour centrer ou positionner correctement</span></span>
<span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> textWidth </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> backend-&gt;</span><span style="color:#8250DF;">getTextWidth</span><span style="color:#24292F;">(font, </span><span style="color:#0A3069;">&quot;Score: 1000&quot;</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> textHeight </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> backend-&gt;</span><span style="color:#8250DF;">getTextHeight</span><span style="color:#24292F;">(font, </span><span style="color:#0A3069;">&quot;Score: 1000&quot;</span><span style="color:#24292F;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><hr><h2 id="animation-spritesheet" tabindex="-1">Animation Spritesheet <a class="header-anchor" href="#animation-spritesheet" aria-hidden="true">#</a></h2><h3 id="configuration-simple" tabindex="-1">Configuration Simple <a class="header-anchor" href="#configuration-simple" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable sprite;</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.texturePath </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Assets/Textures/Explosion.png&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.hasTextureRect </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.textureRect </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">64</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">64</span><span style="color:#C9D1D9;">};</span><span style="color:#8B949E;">  // Frame initial</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.isAnimated </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.currentFrame </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.frameTimer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(explosionEntity, sprite);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable sprite;</span></span>
<span class="line"><span style="color:#24292F;">sprite.texturePath </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Assets/Textures/Explosion.png&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">sprite.hasTextureRect </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">sprite.textureRect </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">0</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">64</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">64</span><span style="color:#24292F;">};</span><span style="color:#6E7781;">  // Frame initial</span></span>
<span class="line"><span style="color:#24292F;">sprite.isAnimated </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">sprite.currentFrame </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">sprite.frameTimer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(explosionEntity, sprite);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="mise-a-jour-de-l-animation" tabindex="-1">Mise \xE0 Jour de l&#39;Animation <a class="header-anchor" href="#mise-a-jour-de-l-animation" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto&amp;</span><span style="color:#C9D1D9;"> drawables </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.get_components</span><span style="color:#FF7B72;">&lt;</span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#FF7B72;">auto*</span><span style="color:#C9D1D9;"> sprite </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> drawables.</span><span style="color:#D2A8FF;">get_ptr</span><span style="color:#C9D1D9;">(explosionEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (sprite </span><span style="color:#FF7B72;">&amp;&amp;</span><span style="color:#C9D1D9;"> sprite-&gt;isAnimated) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> frameDuration </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.05</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span><span style="color:#8B949E;">  // 20 FPS</span></span>
<span class="line"><span style="color:#C9D1D9;">    sprite-&gt;frameTimer </span><span style="color:#FF7B72;">+=</span><span style="color:#C9D1D9;"> deltaTime;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (sprite-&gt;frameTimer </span><span style="color:#FF7B72;">&gt;=</span><span style="color:#C9D1D9;"> frameDuration) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        sprite-&gt;currentFrame</span><span style="color:#FF7B72;">++</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#8B949E;">        // Calculer la position de la frame dans le spritesheet</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> framesPerRow </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">8</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> frameWidth </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">64</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> frameHeight </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">64</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#C9D1D9;">        sprite-&gt;textureRect.x </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (sprite-&gt;currentFrame </span><span style="color:#FF7B72;">%</span><span style="color:#C9D1D9;"> framesPerRow) </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> frameWidth;</span></span>
<span class="line"><span style="color:#C9D1D9;">        sprite-&gt;textureRect.y </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (sprite-&gt;currentFrame </span><span style="color:#FF7B72;">/</span><span style="color:#C9D1D9;"> framesPerRow) </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> frameHeight;</span></span>
<span class="line"><span style="color:#C9D1D9;">        sprite-&gt;frameTimer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#8B949E;">        // D\xE9truire apr\xE8s derni\xE8re frame</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (sprite-&gt;currentFrame </span><span style="color:#FF7B72;">&gt;=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">16</span><span style="color:#C9D1D9;">) {</span><span style="color:#8B949E;">  // 16 frames total</span></span>
<span class="line"><span style="color:#C9D1D9;">            reg.</span><span style="color:#D2A8FF;">kill_entity</span><span style="color:#C9D1D9;">(explosionEntity);</span></span>
<span class="line"><span style="color:#C9D1D9;">        }</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto&amp;</span><span style="color:#24292F;"> drawables </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.get_components</span><span style="color:#CF222E;">&lt;</span><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable</span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#CF222E;">auto*</span><span style="color:#24292F;"> sprite </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> drawables.</span><span style="color:#8250DF;">get_ptr</span><span style="color:#24292F;">(explosionEntity);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (sprite </span><span style="color:#CF222E;">&amp;&amp;</span><span style="color:#24292F;"> sprite-&gt;isAnimated) {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> frameDuration </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.05</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span><span style="color:#6E7781;">  // 20 FPS</span></span>
<span class="line"><span style="color:#24292F;">    sprite-&gt;frameTimer </span><span style="color:#CF222E;">+=</span><span style="color:#24292F;"> deltaTime;</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (sprite-&gt;frameTimer </span><span style="color:#CF222E;">&gt;=</span><span style="color:#24292F;"> frameDuration) {</span></span>
<span class="line"><span style="color:#24292F;">        sprite-&gt;currentFrame</span><span style="color:#CF222E;">++</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#6E7781;">        // Calculer la position de la frame dans le spritesheet</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> framesPerRow </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">8</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> frameWidth </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">64</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> frameHeight </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">64</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#24292F;">        sprite-&gt;textureRect.x </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> (sprite-&gt;currentFrame </span><span style="color:#CF222E;">%</span><span style="color:#24292F;"> framesPerRow) </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> frameWidth;</span></span>
<span class="line"><span style="color:#24292F;">        sprite-&gt;textureRect.y </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> (sprite-&gt;currentFrame </span><span style="color:#CF222E;">/</span><span style="color:#24292F;"> framesPerRow) </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> frameHeight;</span></span>
<span class="line"><span style="color:#24292F;">        sprite-&gt;frameTimer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#6E7781;">        // D\xE9truire apr\xE8s derni\xE8re frame</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (sprite-&gt;currentFrame </span><span style="color:#CF222E;">&gt;=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">16</span><span style="color:#24292F;">) {</span><span style="color:#6E7781;">  // 16 frames total</span></span>
<span class="line"><span style="color:#24292F;">            reg.</span><span style="color:#8250DF;">kill_entity</span><span style="color:#24292F;">(explosionEntity);</span></span>
<span class="line"><span style="color:#24292F;">        }</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><hr><h2 id="boucle-de-rendu-complete" tabindex="-1">Boucle de Rendu Compl\xE8te <a class="header-anchor" href="#boucle-de-rendu-complete" aria-hidden="true">#</a></h2><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#8B949E;">    // ... Initialisation ...</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    registry reg;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FFA657;">graphics</span><span style="color:#C9D1D9;">::IGraphicsBackend</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> backend </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">createBackend</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> cameraEntity </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">createCamera</span><span style="color:#C9D1D9;">(reg);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> playerEntity </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">createPlayer</span><span style="color:#C9D1D9;">(reg);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> scoreEntity </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">createScore</span><span style="color:#C9D1D9;">(reg);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">using</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">clock</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">chrono</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">high_resolution_clock</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> lastTime </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">clock</span><span style="color:#C9D1D9;">::</span><span style="color:#D2A8FF;">now</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">while</span><span style="color:#C9D1D9;"> (backend-&gt;</span><span style="color:#D2A8FF;">isOpen</span><span style="color:#C9D1D9;">()) {</span></span>
<span class="line"><span style="color:#8B949E;">        // Delta time</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> currentTime </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">clock</span><span style="color:#C9D1D9;">::</span><span style="color:#D2A8FF;">now</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">chrono</span><span style="color:#C9D1D9;">::duration</span><span style="color:#FF7B72;">&lt;float&gt;</span><span style="color:#C9D1D9;"> elapsed </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> currentTime </span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;"> lastTime;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> deltaTime </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> elapsed.</span><span style="color:#D2A8FF;">count</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        lastTime </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> currentTime;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (deltaTime </span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.1</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">) deltaTime </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.1</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">// ========== LOGIQUE DE JEU ==========</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#D2A8FF;">updateGameLogic</span><span style="color:#C9D1D9;">(reg, deltaTime);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">// ========== RENDU ECS ==========</span></span>
<span class="line"><span style="color:#8B949E;">        // Le Render System s&#39;ex\xE9cute automatiquement via run_systems()</span></span>
<span class="line"><span style="color:#C9D1D9;">        reg.</span><span style="color:#D2A8FF;">run_systems</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">// ========== AFFICHAGE ==========</span></span>
<span class="line"><span style="color:#C9D1D9;">        backend-&gt;</span><span style="color:#D2A8FF;">clear</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">);</span><span style="color:#8B949E;">     // Fond noir</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#8B949E;">        // Rendu des entit\xE9s</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#D2A8FF;">renderAllEntities</span><span style="color:#C9D1D9;">(reg, backend);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span></span>
<span class="line"><span style="color:#C9D1D9;">        backend-&gt;</span><span style="color:#D2A8FF;">display</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">            // Swap buffers</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    backend-&gt;</span><span style="color:#D2A8FF;">shutdown</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">int</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">main</span><span style="color:#24292F;">() {</span></span>
<span class="line"><span style="color:#6E7781;">    // ... Initialisation ...</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    registry reg;</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#953800;">graphics</span><span style="color:#24292F;">::IGraphicsBackend</span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> backend </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">createBackend</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> cameraEntity </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">createCamera</span><span style="color:#24292F;">(reg);</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> playerEntity </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">createPlayer</span><span style="color:#24292F;">(reg);</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> scoreEntity </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">createScore</span><span style="color:#24292F;">(reg);</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">using</span><span style="color:#24292F;"> </span><span style="color:#953800;">clock</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#953800;">chrono</span><span style="color:#24292F;">::</span><span style="color:#953800;">high_resolution_clock</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> lastTime </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#953800;">clock</span><span style="color:#24292F;">::</span><span style="color:#8250DF;">now</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">while</span><span style="color:#24292F;"> (backend-&gt;</span><span style="color:#8250DF;">isOpen</span><span style="color:#24292F;">()) {</span></span>
<span class="line"><span style="color:#6E7781;">        // Delta time</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> currentTime </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#953800;">clock</span><span style="color:#24292F;">::</span><span style="color:#8250DF;">now</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#953800;">chrono</span><span style="color:#24292F;">::duration</span><span style="color:#CF222E;">&lt;float&gt;</span><span style="color:#24292F;"> elapsed </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> currentTime </span><span style="color:#CF222E;">-</span><span style="color:#24292F;"> lastTime;</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> deltaTime </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> elapsed.</span><span style="color:#8250DF;">count</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">        lastTime </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> currentTime;</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (deltaTime </span><span style="color:#CF222E;">&gt;</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.1</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">) deltaTime </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.1</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#6E7781;">// ========== LOGIQUE DE JEU ==========</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#8250DF;">updateGameLogic</span><span style="color:#24292F;">(reg, deltaTime);</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#6E7781;">// ========== RENDU ECS ==========</span></span>
<span class="line"><span style="color:#6E7781;">        // Le Render System s&#39;ex\xE9cute automatiquement via run_systems()</span></span>
<span class="line"><span style="color:#24292F;">        reg.</span><span style="color:#8250DF;">run_systems</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#6E7781;">// ========== AFFICHAGE ==========</span></span>
<span class="line"><span style="color:#24292F;">        backend-&gt;</span><span style="color:#8250DF;">clear</span><span style="color:#24292F;">(</span><span style="color:#0550AE;">0</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">);</span><span style="color:#6E7781;">     // Fond noir</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#6E7781;">        // Rendu des entit\xE9s</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#8250DF;">renderAllEntities</span><span style="color:#24292F;">(reg, backend);</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#24292F;">        backend-&gt;</span><span style="color:#8250DF;">display</span><span style="color:#24292F;">();</span><span style="color:#6E7781;">            // Swap buffers</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    backend-&gt;</span><span style="color:#8250DF;">shutdown</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><hr><h2 id="reference-api-backend" tabindex="-1">R\xE9f\xE9rence API Backend <a class="header-anchor" href="#reference-api-backend" aria-hidden="true">#</a></h2><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">IGraphicsBackend</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#8B949E;">    // Initialisation</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">width</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">height</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">string</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">title</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">shutdown</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#8B949E;">    // Boucle</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">bool</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">isOpen</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">pollEvents</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">clear</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">char</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">r</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">char</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">g</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">char</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">b</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">display</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#8B949E;">    // Ressources</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">loadTexture</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">string</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">path</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">unloadTexture</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">texture</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">loadFont</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">string</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">path</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">fontSize</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#8B949E;">    // Rendu</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">drawSprite</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">texture</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">x</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">y</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">rotation</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">                    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">scaleX</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">scaleY</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Color</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">tint</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">                    </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Rect</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">textureRect</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">nullptr</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">drawText</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">font</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">string</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">text</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">x</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">y</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">                  </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Color</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">color</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">rotation</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">                  </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">scaleX</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">scaleY</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#8B949E;">    // Utilitaires</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">getTextWidth</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">font</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">string</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">text</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">getTextHeight</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">void*</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">font</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">std</span><span style="color:#C9D1D9;">::</span><span style="color:#FFA657;">string</span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">text</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">getMousePosition</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">int&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">x</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">int&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">y</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">const</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">class</span><span style="color:#24292F;"> </span><span style="color:#953800;">IGraphicsBackend</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#6E7781;">    // Initialisation</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">init</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> </span><span style="color:#953800;">width</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> </span><span style="color:#953800;">height</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#953800;">string</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">title</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">shutdown</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#6E7781;">    // Boucle</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">bool</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">isOpen</span><span style="color:#24292F;">() </span><span style="color:#CF222E;">const</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">pollEvents</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">clear</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">char</span><span style="color:#24292F;"> </span><span style="color:#953800;">r</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">char</span><span style="color:#24292F;"> </span><span style="color:#953800;">g</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">char</span><span style="color:#24292F;"> </span><span style="color:#953800;">b</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">display</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#6E7781;">    // Ressources</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">loadTexture</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#953800;">string</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">path</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">unloadTexture</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> </span><span style="color:#953800;">texture</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">loadFont</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#953800;">string</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">path</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">int</span><span style="color:#24292F;"> </span><span style="color:#953800;">fontSize</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#6E7781;">    // Rendu</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">drawSprite</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> </span><span style="color:#953800;">texture</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">x</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">y</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">rotation</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">                    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">scaleX</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">scaleY</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">Color</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">tint</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">                    </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">Rect</span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> </span><span style="color:#953800;">textureRect</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">nullptr</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">drawText</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> </span><span style="color:#953800;">font</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#953800;">string</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">text</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">x</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">y</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">                  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">Color</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">color</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">rotation</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">                  </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">scaleX</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#953800;">scaleY</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">1.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span></span>
<span class="line"><span style="color:#6E7781;">    // Utilitaires</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">getTextWidth</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> </span><span style="color:#953800;">font</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#953800;">string</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">text</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">float</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">getTextHeight</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">void*</span><span style="color:#24292F;"> </span><span style="color:#953800;">font</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#953800;">std</span><span style="color:#24292F;">::</span><span style="color:#953800;">string</span><span style="color:#CF222E;">&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">text</span><span style="color:#24292F;">);</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">void</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">getMousePosition</span><span style="color:#24292F;">(</span><span style="color:#CF222E;">int&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">x</span><span style="color:#24292F;">, </span><span style="color:#CF222E;">int&amp;</span><span style="color:#24292F;"> </span><span style="color:#953800;">y</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">const</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><hr><h2 id="exemples-avances" tabindex="-1">Exemples Avanc\xE9s <a class="header-anchor" href="#exemples-avances" aria-hidden="true">#</a></h2><h3 id="barre-de-vie-dynamique" tabindex="-1">Barre de Vie Dynamique <a class="header-anchor" href="#barre-de-vie-dynamique" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">auto</span><span style="color:#C9D1D9;"> healthBar </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> reg.</span><span style="color:#D2A8FF;">spawn_entity</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">reg.</span><span style="color:#D2A8FF;">add_component</span><span style="color:#C9D1D9;">(healthBar, </span><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::transform{</span><span style="color:#79C0FF;">10.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">50.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">1.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">1.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFA657;">component</span><span style="color:#C9D1D9;">::Drawable barSprite;</span></span>
<span class="line"><span style="color:#C9D1D9;">barSprite.texturePath </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Assets/UI/healthbar.png&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">barSprite.layer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">150</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">barSprite.hasTextureRect </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">barSprite.visible </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Mise \xE0 jour</span></span>
<span class="line"><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> healthPercent </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (currentHealth </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">/</span><span style="color:#C9D1D9;"> maxHealth;</span></span>
<span class="line"><span style="color:#C9D1D9;">barSprite.textureRect </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">, healthPercent, </span><span style="color:#79C0FF;">20</span><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">auto</span><span style="color:#24292F;"> healthBar </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> reg.</span><span style="color:#8250DF;">spawn_entity</span><span style="color:#24292F;">();</span></span>
<span class="line"><span style="color:#24292F;">reg.</span><span style="color:#8250DF;">add_component</span><span style="color:#24292F;">(healthBar, </span><span style="color:#953800;">component</span><span style="color:#24292F;">::transform{</span><span style="color:#0550AE;">10.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">50.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">1.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">1.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#953800;">component</span><span style="color:#24292F;">::Drawable barSprite;</span></span>
<span class="line"><span style="color:#24292F;">barSprite.texturePath </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;Assets/UI/healthbar.png&quot;</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">barSprite.layer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">150</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">barSprite.hasTextureRect </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">barSprite.visible </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Mise \xE0 jour</span></span>
<span class="line"><span style="color:#CF222E;">int</span><span style="color:#24292F;"> healthPercent </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> (currentHealth </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">100</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">/</span><span style="color:#24292F;"> maxHealth;</span></span>
<span class="line"><span style="color:#24292F;">barSprite.textureRect </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">0</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">0</span><span style="color:#24292F;">, healthPercent, </span><span style="color:#0550AE;">20</span><span style="color:#24292F;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="effet-clignotement" tabindex="-1">Effet Clignotement <a class="header-anchor" href="#effet-clignotement" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> blinkInterval </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.1</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> blinkTimer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Mise \xE0 jour</span></span>
<span class="line"><span style="color:#C9D1D9;">blink Timer </span><span style="color:#FF7B72;">+=</span><span style="color:#C9D1D9;"> deltaTime;</span></span>
<span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (blinkTimer </span><span style="color:#FF7B72;">&gt;=</span><span style="color:#C9D1D9;"> blinkInterval) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    sprite.visible </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">!</span><span style="color:#C9D1D9;">sprite.visible;</span></span>
<span class="line"><span style="color:#C9D1D9;">    blinkTimer </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> blinkInterval </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.1</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> blinkTimer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Mise \xE0 jour</span></span>
<span class="line"><span style="color:#24292F;">blink Timer </span><span style="color:#CF222E;">+=</span><span style="color:#24292F;"> deltaTime;</span></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (blinkTimer </span><span style="color:#CF222E;">&gt;=</span><span style="color:#24292F;"> blinkInterval) {</span></span>
<span class="line"><span style="color:#24292F;">    sprite.visible </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">!</span><span style="color:#24292F;">sprite.visible;</span></span>
<span class="line"><span style="color:#24292F;">    blinkTimer </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="degrade-de-couleur" tabindex="-1">D\xE9grad\xE9 de Couleur <a class="header-anchor" href="#degrade-de-couleur" aria-hidden="true">#</a></h3><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> lifetime </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2.0</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> timeAlive </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0.</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">// Mise \xE0 jour</span></span>
<span class="line"><span style="color:#C9D1D9;">timeAlive </span><span style="color:#FF7B72;">+=</span><span style="color:#C9D1D9;"> deltaTime;</span></span>
<span class="line"><span style="color:#FF7B72;">float</span><span style="color:#C9D1D9;"> alpha </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">1.0</span><span style="color:#FF7B72;">f</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;"> (timeAlive </span><span style="color:#FF7B72;">/</span><span style="color:#C9D1D9;"> lifetime));</span></span>
<span class="line"><span style="color:#C9D1D9;">sprite.tint </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, </span><span style="color:#79C0FF;">255</span><span style="color:#C9D1D9;">, (</span><span style="color:#FF7B72;">unsigned</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">char</span><span style="color:#C9D1D9;">)alpha};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (timeAlive </span><span style="color:#FF7B72;">&gt;=</span><span style="color:#C9D1D9;"> lifetime) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    reg.</span><span style="color:#D2A8FF;">kill_entity</span><span style="color:#C9D1D9;">(entity);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> lifetime </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">2.0</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> timeAlive </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">0.</span><span style="color:#CF222E;">f</span><span style="color:#24292F;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6E7781;">// Mise \xE0 jour</span></span>
<span class="line"><span style="color:#24292F;">timeAlive </span><span style="color:#CF222E;">+=</span><span style="color:#24292F;"> deltaTime;</span></span>
<span class="line"><span style="color:#CF222E;">float</span><span style="color:#24292F;"> alpha </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">255</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">*</span><span style="color:#24292F;"> (</span><span style="color:#0550AE;">1.0</span><span style="color:#CF222E;">f</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">-</span><span style="color:#24292F;"> (timeAlive </span><span style="color:#CF222E;">/</span><span style="color:#24292F;"> lifetime));</span></span>
<span class="line"><span style="color:#24292F;">sprite.tint </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">255</span><span style="color:#24292F;">, (</span><span style="color:#CF222E;">unsigned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">char</span><span style="color:#24292F;">)alpha};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (timeAlive </span><span style="color:#CF222E;">&gt;=</span><span style="color:#24292F;"> lifetime) {</span></span>
<span class="line"><span style="color:#24292F;">    reg.</span><span style="color:#8250DF;">kill_entity</span><span style="color:#24292F;">(entity);</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><hr><h2 id="bonnes-pratiques" tabindex="-1">Bonnes Pratiques <a class="header-anchor" href="#bonnes-pratiques" aria-hidden="true">#</a></h2><ol><li><strong>Une seule cam\xE9ra active</strong> : D\xE9sactiver les autres si vous en changez</li><li><strong>Layers coh\xE9rents</strong> : D\xE9finir une hi\xE9rarchie claire et la respecter</li><li><strong>Cache des ressources</strong> : Le syst\xE8me charge une fois et r\xE9utilise</li><li><strong>Visibilit\xE9</strong> : Utiliser <code>visible = false</code> plut\xF4t que <code>kill_entity()</code> temporairement</li><li><strong>Performances</strong> : Minimiser les changements de texture (batch rendering)</li><li><strong>Textures</strong> : Utiliser le moins de fichiers possibles (atlas/spritesheets)</li></ol><hr>`,98),o=[e];function r(c,t,y,i,F,D){return a(),n("div",null,o)}const d=s(p,[["render",r]]);export{u as __pageData,d as default};
